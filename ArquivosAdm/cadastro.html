<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Clientes</title>

    <style>

        body {
            font-family: sans-serif;
            /* Define a fonte do corpo como uma fonte sans-serif */
            display: flex;
            /* Usa Flexbox para centralizar o conteúdo tanto horizontalmente quanto verticalmente */
            justify-content: center;
            /* Centraliza o conteúdo horizontalmente */
            align-items: center;
            /* Centraliza o conteúdo verticalmente */
            min-height: 100vh;
            /* Garante que o corpo ocupe pelo menos a altura total da viewport */
            margin: 0;
            /* Remove a margem padrão */
            background-color: #f4f4f4;
            /* Define uma cor de fundo cinza claro */
        }

        .container {
            background-color: #fff;
            /* Define a cor de fundo do container como branco */
            padding: 20px;
            /* Adiciona preenchimento interno ao container */
            border-radius: 8px;
            /* Arredonda os cantos do container */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            /* Adiciona uma sombra sutil ao redor do container */
            width: 400px;
            /* Define uma largura fixa para o container */
        }

        label {
            display: block;
            /* Faz com que cada label seja um elemento de bloco, ocupando toda a largura disponível */
            margin-bottom: 5px;
            /* Adiciona uma pequena margem abaixo de cada label */
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="tel"],
        input[type="date"] {
            width: 100%;
            /* Faz com que os campos de entrada ocupem toda a largura do container */
            padding: 10px;
            /* Adiciona preenchimento interno aos campos de entrada */
            margin-bottom: 10px;
            /* Adiciona uma margem abaixo de cada campo de entrada */
            border: 1px solid #ccc;
            /* Adiciona uma borda cinza clara ao redor dos campos de entrada */
            border-radius: 4px;
            /* Arredonda os cantos dos campos de entrada */
            box-sizing: border-box;
            /* Garante que o preenchimento e a borda sejam incluídos na largura e altura total do elemento */
        }

        button {
            background-color: #4CAF50;
            /* Define a cor de fundo do botão como verde */
            color: white;
            /* Define a cor do texto do botão como branco */
            padding: 10px 15px;
            /* Adiciona preenchimento interno ao botão */
            border: none;
            /* Remove a borda padrão */
            border-radius: 4px;
            /* Arredonda os cantos do botão */
            cursor: pointer;
            /* Muda o cursor para um ponteiro quando o mouse passa sobre o botão */
            width: 100%;
            /* Faz com que o botão ocupe toda a largura do container */
        }

        button:hover {
            background-color: #45a049;
            /* Muda a cor de fundo do botão para um verde mais escuro quando o mouse passa sobre ele */
        }
    </style>
</head>

<body>

    <div class="container">
        <h2>Cadastro de Clientes</h2>

        <form action="processar_cadastro.php" method="post" id="cadastroForm">
            <!-- O elemento form, que enviará os dados para "processar_cadastro.php" usando o método POST quando for submetido -->

            <label for="nome">Nome Completo:</label>
            <!-- Um label para o campo de entrada do nome completo -->
            <input type="text" id="nome" name="nome" required>
            <!-- Um campo de entrada de texto para o nome completo, que é obrigatório -->

            <label for="email">Email:</label>
            <!-- Um label para o campo de entrada de email -->
            <input type="email" id="email" name="email" required>
            <!-- Um campo de entrada de email, que é obrigatório e deve conter um endereço de email válido -->

            <label for="usuario">Nome de usuario:</label>
            <!-- Um label para o campo de entrada do nome de usuario -->
            <input type="text" id="usuario" name="usuario" required>
            <!-- Um campo de entrada de texto para o nome de usuario, que é obrigatório -->

            <label for="senha">Senha:</label>
            <!-- Um label para o campo de entrada de senha -->
            <input type="password" id="senha" name="senha" required pattern="^(?=.*\d).{4,}$" title="A senha deve conter pelo menos 4 caracteres e 1 número.">
            <!-- Um campo de entrada de senha, que é obrigatório e deve conter pelo menos 4 caracteres e 1 número -->

            <label for="telefone">Telefone (somente números):</label>
            <!-- Um label para o campo de entrada de telefone -->
            <input type="tel" id="telefone" name="telefone" placeholder="DDDXXXXXXXXX" pattern="[0-9]{10,11}" required>
            <!-- Um campo de entrada de telefone, que é obrigatório e deve conter 10 ou 11 dígitos -->

            <label for="cpf">CPF (somente números):</label>
            <!-- Um label para o camp de entrada de cpf -->
            <input type="text" id="cpf" name="cpf" placeholder="12345678900" pattern="\d{11}" title="O CPF deve conter exatamente 11 dígitos numéricos." required>
            <!-- Um campo de entrada de cpf, que e obrigatório e deve conter 11 dígitos -->

            <label for="data_nascimento">Data de Nascimento:</label>
            <!-- Um label para o campo de entrada de data de nascimento -->
            <input type="date" id="data_nascimento" name="data_nascimento" required min="1900-01-01">
            <!-- Um campo de entrada de data, que é obrigatório e deve ser posterior a 1º de janeiro de 1900 -->

            <!-- Endereço Detalhado -->
            <h3>Endereço</h3>

            <label for="cep">CEP (somente números):</label>
            <input type="text" id="cep" name="cep" placeholder="12345678" pattern="\d{8}" title="O CEP deve conter exatamente 8 dígitos numéricos." required>

            <label for="estado">Estado:</label>
            <input type="text" id="estado" name="estado" placeholder="SP" pattern="[A-Za-z]{2}" title="Digite a sigla do estado (ex: SP, RJ)." required>

            <label for="cidade">Cidade:</label>
            <input type="text" id="cidade" name="cidade" required>

            <label for="rua">Rua:</label>
            <input type="text" id="rua" name="rua" required>

            <label for="numero">Número:</label>
            <input type="text" id="numero" name="numero" required>

            <button type="submit">Cadastrar</button>
            <!-- Um botão de envio que envia os dados do formulário quando clicado -->
        </form>
    </div>

    <script>
        // Obtém o formulário
        const form = document.getElementById('cadastroForm');
    
        // Adiciona validação ao enviar o formulário
        form.addEventListener('submit', (event) => {
            let isValid = true; // Controla se o formulário é válido
    
            // Função para exibir mensagens de erro
            function showError(input, message) {
                const error = document.createElement('div'); // Cria uma div para o erro
                error.style.color = 'red'; // Define a cor do texto
                error.textContent = message; // Adiciona a mensagem de erro
                input.parentNode.insertBefore(error, input.nextSibling); // Insere a mensagem após o campo
                isValid = false; // Marca o formulário como inválido
            }
    
            // Limpa erros anteriores
            const errors = form.querySelectorAll('div');
            errors.forEach(error => error.remove());
    
            // Validação do Nome
            const nome = document.getElementById('nome');
            if (!nome.value.trim()) showError(nome, 'Nome é obrigatório.');
    
            // Validação do Email
            const email = document.getElementById('email');
            if (!email.value.trim()) showError(email, 'Email é obrigatório.');
            else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) showError(email, 'Email inválido.');
    
            // Validação do Usuário
            const usuario = document.getElementById('usuario');
            if (!usuario.value.trim()) showError(usuario, 'Usuário é obrigatório.');
            else if (usuario.value.length < 4) showError(usuario, 'Usuário deve ter pelo menos 4 caracteres.');
    
            // Validação da Senha
            const senha = document.getElementById('senha');
            if (!senha.value.trim()) showError(senha, 'Senha é obrigatória.');
            else if (!/^(?=.*\d).{4,}$/.test(senha.value)) showError(senha, 'Senha deve ter 4 caracteres e 1 número.');
    
            // Validação do Telefone
            const telefone = document.getElementById('telefone');
            if (!telefone.value.trim()) showError(telefone, 'Telefone é obrigatório.');
            else if (!/^\d{10,11}$/.test(telefone.value)) showError(telefone, 'Telefone deve ter 10 ou 11 dígitos.');
    
            // Validação do CPF
            const cpf = document.getElementById('cpf');
            if (!cpf.value.trim()) showError(cpf, 'CPF é obrigatório.');
            else if (!/^\d{11}$/.test(cpf.value)) showError(cpf, 'CPF deve ter 11 dígitos.');
    
            // Validação da Data de Nascimento
            const dataNascimento = document.getElementById('data_nascimento');
            const hoje = new Date();
            if (!dataNascimento.value) showError(dataNascimento, 'Data de nascimento é obrigatória.');
            else if (new Date(dataNascimento.value) > hoje) showError(dataNascimento, 'Data não pode ser no futuro.');
    
            // Validação do CEP
            const cep = document.getElementById('cep');
            if (!cep.value.trim()) showError(cep, 'CEP é obrigatório.');
            else if (!/^\d{8}$/.test(cep.value)) showError(cep, 'CEP deve ter 8 dígitos.');
    
            // Validação do Estado
            const estado = document.getElementById('estado');
            if (!estado.value.trim()) showError(estado, 'Estado é obrigatório.');
            else if (!/^[A-Za-z]{2}$/.test(estado.value)) showError(estado, 'Estado deve ter 2 letras.');
    
            // Validação da Cidade
            const cidade = document.getElementById('cidade');
            if (!cidade.value.trim()) showError(cidade, 'Cidade é obrigatória.');
    
            // Validação da Rua
            const rua = document.getElementById('rua');
            if (!rua.value.trim()) showError(rua, 'rua é obrigatório.');
    
            // Validação do Número
            const numero = document.getElementById('numero');
            if (!numero.value.trim()) showError(numero, 'Número é obrigatório.');
    
            // Impede o envio se houver erros
            if (!isValid) event.preventDefault();
        });
    </script>

</body>

</html>
